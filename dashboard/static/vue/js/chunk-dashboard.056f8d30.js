(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dashboard"],{"05e3":function(t,a,e){},"0a4e":function(t,a,e){"use strict";e("05e3")},b7f9:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.patientData?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header border-0"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"mb-0"},[t._v(" "+t._s(t.title)+" "),!0===t.active?e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all currently active patients. As soon as a patient is provided with a dismissal date the patient is moved to the dismissed patients table.",expression:"\n              'Table shows all currently active patients. As soon as a patient is provided with a dismissal date the patient is moved to the dismissed patients table.'\n            ",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"}):e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all dismissed patients as soon as a dismissal date is set.",expression:"\n              'Table shows all dismissed patients as soon as a dismissal date is set.'\n            ",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"})])]),e("div",{staticClass:"col text-right"},[!0===t.active?e("base-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Add a new Patient",expression:"'Add a new Patient'",modifiers:{hover:!0,top:!0}}],attrs:{type:"btn btn-sm btn-primary",icon:"fas fa-plus"},on:{click:function(a){t.patientModal=!0,t.newPatient=!0}}},[t._v(" new Patient ")]):t._e(),e("modal",{attrs:{show:t.patientModal},on:{"update:show":function(a){t.patientModal=a}}},[e("template",{slot:"header"},[t.newPatient?e("div",[e("h2",{staticClass:"modal-title"},[t._v("New Patient")])]):e("div",[e("h2",{staticClass:"modal-title"},[t._v("Edit Patient")])])]),e("div",{staticClass:"row align-items-center text-left"},[e("div",{staticClass:"card col-md-12 mt-3"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row align-items-center"},[e("base-input",{staticClass:"col-md-6",attrs:{label:"First Name"},model:{value:t.first_name,callback:function(a){t.first_name=a},expression:"first_name"}}),e("base-input",{staticClass:"col-md-6",attrs:{label:"Last Name"},model:{value:t.last_name,callback:function(a){t.last_name=a},expression:"last_name"}}),e("label",{staticClass:"form-control-label mt--3 col-md-4"},[t._v(" Admission "),e("base-input",{staticClass:"mt-3",attrs:{disabled:"",value:new Date(this.admission).toLocaleString()}})],1),e("base-button",{staticClass:"btn btn-md col-md-2 mt--2 picker-button",attrs:{icon:"fa fa-calendar",type:"primary"},on:{click:function(a){return t.openPicker("admission-picker")}}}),e("label",{staticClass:"form-control-label mt-md--3 mt-sm-10 col-md-3"},[t._v(" Dismissal "),e("base-input",{staticClass:"mt-3",attrs:{disabled:"",value:new Date(this.dismissal).toLocaleString()}})],1),e("base-button",{staticClass:"btn btn-md col-md-1 mt--2 picker-button",attrs:{icon:"fa fa-calendar",type:"primary"},on:{click:function(a){return t.openPicker("dismissal-picker")}}}),e("base-button",{staticClass:"col-md-1 btn btn-md ml-4 mt--2 mt-sm-10",attrs:{type:"danger",icon:"fas fa-times"},on:{click:function(a){t.dismissal=null}}})],1)])])]),e("template",{slot:"footer"},[e("base-button",{attrs:{type:"secondary"},on:{click:function(a){t.patientModal=!1}}},[t._v("Close ")]),t.newPatient?[e("base-button",{attrs:{type:"primary"},on:{click:function(a){return t.addPatient()}}},[t._v("Save patient ")])]:[e("base-button",{attrs:{type:"primary"},on:{click:function(a){return t.editPatient()}}},[t._v("Save changes ")])]],2)],2),e("datetime",{ref:"admission-picker",attrs:{type:"datetime","backdrop-click":!0,auto:!0},model:{value:t.admission,callback:function(a){t.admission=a},expression:"admission"}}),e("datetime",{ref:"dismissal-picker",attrs:{type:"datetime","backdrop-click":!0,auto:!0},model:{value:t.dismissal,callback:function(a){t.dismissal=a},expression:"dismissal"}})],1)])]),!0===t.active?e("div",[e("div",{staticClass:"table-responsive"},[e("base-table",{attrs:{"thead-classes":"thead-light",data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return null===s.dismissal_date?[e("th",{attrs:{scope:"row"}},[e("router-link",{attrs:{to:"/patients/"+s.id}},[t._v(t._s(s.id)+" ")])],1),e("td",[t._v(" "+t._s(s.first_name)+" ")]),e("td",[t._v(" "+t._s(s.last_name)+" ")]),e("td",[t._v(" "+t._s(new Intl.DateTimeFormat("en-GB").format(new Date(s.admission_date)))+" ")]),e("td",[null===s.dismissal_date?[e("i",{staticClass:"far fa-clock"})]:[t._v(" "+t._s(new Intl.DateTimeFormat("en-GB").format(new Date(s.dismissal_date)))+" ")]],2),e("td",[e("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-edit",type:"primary"},on:{click:function(a){t.initializePatientModal(s.id),t.edit=!0}}})],1),e("td",[e("router-link",{attrs:{to:"/patients/"+s.id}},[e("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-chart-bar",type:"primary"},on:{click:function(t){s.id}}},[t._v(" Patient Report ")])],1)],1)]:void 0}}],null,!0)},[e("template",{slot:"columns"},[e("th",[t._v("ID")]),e("th",[t._v("First Name")]),e("th",[t._v("Last Name")]),e("th",[t._v("Admission")]),e("th",[t._v("Dismissal")]),e("th",[t._v(" Edit/Delete "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Edit/Delete Patient",expression:"'Edit/Delete Patient'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})]),e("th",[t._v(" Report "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"See/Edit Patient Report",expression:"'See/Edit Patient Report'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})])])],2)],1)]):!1===t.active?e("div",[e("div",{staticClass:"table-responsive"},[e("base-table",{attrs:{"thead-classes":"thead-light",data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return s.dismissal_date?[e("th",{attrs:{scope:"row"}},[e("router-link",{attrs:{to:"/patients/"+s.id}},[t._v(t._s(s.id)+" ")])],1),e("td",[t._v(" "+t._s(s.first_name)+" ")]),e("td",[t._v(" "+t._s(s.last_name)+" ")]),e("td",[t._v(" "+t._s(new Intl.DateTimeFormat("en-GB").format(new Date(s.admission_date)))+" ")]),e("td",[null===s.dismissal_date?[e("i",{staticClass:"far fa-clock"})]:[t._v(" "+t._s(new Intl.DateTimeFormat("en-GB").format(new Date(s.dismissal_date)))+" ")]],2),e("td",[e("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-edit",type:"primary"},on:{click:function(a){t.initializePatientModal(s.id),t.edit=!0}}})],1),e("td",[e("router-link",{attrs:{to:"/patients/"+s.id}},[e("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-chart-bar",type:"primary"},on:{click:function(t){s.id}}},[t._v(" Patient Report ")])],1)],1)]:void 0}}],null,!0)},[e("template",{slot:"columns"},[e("th",[t._v("ID")]),e("th",[t._v("First Name")]),e("th",[t._v("Last Name")]),e("th",[t._v("Admission")]),e("th",[t._v("Dismissal")]),e("th",[t._v(" Edit/Delete "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Edit/Delete Patient",expression:"'Edit/Delete Patient'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})]),e("th",[t._v(" Report "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"See/Edit Patient Report",expression:"'See/Edit Patient Report'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})])])],2)],1)]):t._e()]):t._e()},i=[],n=(e("7db0"),e("5530")),o=(e("96cf"),e("1da1")),r=e("2f62"),l=e("859b"),c={name:"patients-table",components:{datetime:l["Datetime"]},props:["title","active"],data:function(){return{datepicker:!1,patientModal:!1,newPatient:!0,patientId:null,edit:!1,admission:null,dismissal:null,first_name:null,last_name:null,tableData:this.patientData}},methods:{openPicker:function(t){var a=this.$refs[t].$el.firstChild.nextElementSibling;a&&a.click()},initializePatientModal:function(t){var a=this.tableData.find((function(a){return a.id===t}));this.first_name=a.first_name,this.last_name=a.last_name,this.admission=a.admission_date,this.dismissal=a.dismissal_date,this.patientId=t,this.newPatient=!1,this.patientModal=!0},addPatient:function(){var t={first_name:this.first_name,last_name:this.last_name,admission:""==this.admission?null:this.admission,dismissal:""==this.dismissal?null:this.dismissal};this.$store.dispatch("addPatient",{patient:t}),this.patientModal=!1},editPatient:function(){var t={first_name:this.first_name,last_name:this.last_name,admission:this.admission,dismissal:this.dismissal};this.$store.dispatch("editPatient",{id:this.patientId,patient:t}),this.first_name=null,this.last_name=null,this.admission=null,this.dismissal=null,this.patientModal=!1},deletePatient:function(t){confirm("Do you really want to delete this Patient?")&&this.$store.dispatch("deletePatient",{id:t})}},watch:{patientData:function(){this.tableData=this.patientData}},beforeDestroy:function(){clearInterval(this.patientData)},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(r["b"])(["patientData"]))},d=c,m=(e("0a4e"),e("2877")),p=Object(m["a"])(d,s,i,!1,null,null,null);a["a"]=p.exports},c4ad:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",staticStyle:{"background-color":"#dbe5f3"},attrs:{type:""}},[e("critical-table")],1),e("div",{staticClass:"container-fluid mt--7"},[e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-xl-12 mb-5 mb-xl-0"},[e("patients-table",{attrs:{title:"Current Patients",active:!0}})],1)])])],1)},i=[],n=e("5530"),o=e("b7f9"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.criticalReports?e("div",[e("div",{staticClass:"row"},t._l(t.tableData,(function(a){return e("div",{key:a.patient,staticClass:"col-xl-3 col-lg-6"},[e("router-link",{attrs:{to:"/patients/"+a.patient}},[e("stats-card",{staticClass:"mb-4 mb-xl-0 bg-danger text-white mt-xl-5",attrs:{type:"white",title:a.status,"sub-title":t.patientName(a.patient),icon:"fa fa-exclamation-triangle  text-default"}},[e("template",{slot:"footer"},[e("span",{staticClass:"text-white mr-2",attrs:{title:"Fever and Pulse"}},[e("i",{staticClass:"fa fa-thermometer-three-quarters mr-1",attrs:{title:"Fever"}}),t._v(" "+t._s(a.fever)+" °C "),e("i",{staticClass:"fa fa-heart ml-3 mr-1",attrs:{title:"Pulse"}}),t._v(" "+t._s(a.pulse))])])],2)],1)],1)})),0),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-header border-0"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col"},[e("h3",{staticClass:"mb-0"},[t._v("Critical Patients "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all patients marked with the status attribute critical.",expression:"'Table shows all patients marked with the status attribute critical.'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"})])])])]),e("div",{staticClass:"table-responsive"},[e("base-table",{attrs:{"thead-classes":"thead-light",data:t.tableData},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row;return[e("th",{attrs:{scope:"row"}},[e("router-link",{attrs:{to:"/patients/"+s.patient}},[t._v(t._s(s.patient)+" ")])],1),e("td",[t._v(" "+t._s(t.patientName(s.patient))+" ")]),e("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.fever)+" °C ")]),e("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.pulse)+" ")]),e("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.monitoring_interval)+" ")]),e("td",[e("i",{staticClass:"fas fa-circle text-success mr-3",class:"ok"===s.status?"text-success":"text-danger"})]),e("td",[e("router-link",{attrs:{to:"/patients/"+s.patient}},[e("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-chart-bar",type:"primary"},on:{click:function(t){s.patient}}},[t._v(" Patient Report ")])],1)],1)]}}],null,!1,1271628372)},[e("template",{slot:"columns"},[e("th",[t._v("ID")]),e("th",[t._v("Patient")]),e("th",[t._v("Fever")]),e("th",[t._v("Pulse")]),e("th",[t._v("Monitoring Interval")]),e("th",[t._v("Status")]),e("th",[t._v("Report "),e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"See/Edit Patient Report",expression:"'See/Edit Patient Report'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})])])],2)],1)])]):t._e()},l=[],c=e("2f62"),d={name:"critical-table",data:function(){return{modal0:!1,tableData:[]}},methods:{notify:function(t,a){this.$notify({title:t,message:a,type:"warning",closeOnClick:!1,timeout:5e4,icon:"fa fa-exclamation-triangle"})},patient:function(t){return this.$store.getters.getPatientById(t)},patientName:function(t){return this.$store.getters.patientNameById(t)}},beforeDestroy:function(){clearInterval(this.criticalReports)},computed:Object(n["a"])({},Object(c["b"])(["criticalReports"])),created:function(){console.log("critical",this.criticalReports),this.tableData=this.criticalReports},watch:{criticalReports:function(){this.tableData=this.criticalReports}}},m=d,p=e("2877"),u=Object(p["a"])(m,r,l,!1,null,null,null),v=u.exports,f={components:{PatientsTable:o["a"],CriticalTable:v},data:function(){return{notificationModal:!1}},methods:{enableNotifications:function(t){this.$store.dispatch("enableNotifications",t)}},computed:Object(n["a"])({},Object(c["b"])(["patientData"])),created:function(){this.$store.dispatch("setup"),this.$store.dispatch("loadPatients"),this.$store.dispatch("loadReports"),this.$store.dispatch("subscriptions")}},b=f,h=Object(p["a"])(b,s,i,!1,null,null,null);a["default"]=h.exports}}]);